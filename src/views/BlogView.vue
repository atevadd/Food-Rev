<template>
  <div class="blogpage">
    <header class="blogpage__header">
      <div class="blogpage__header-image">
        <img
          src="https://images.pexels.com/photos/11293709/pexels-photo-11293709.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
          alt="Admin profile picture" />

        <div class="blogpage__header-details">
          <h3 class="admin-name">Admin</h3>
          <p class="upload-date">Aug 15, 2021</p>
        </div>
      </div>

      <div class="blogpage__header-social">
        <span class="social facebook"
          ><a href="#"><i class="uil uil-facebook-f"></i></a
        ></span>
        <span class="social facebook"
          ><a href="#"><i class="uil uil-twitter"></i></a
        ></span>
        <span class="social facebook"
          ><a href="#"><i class="uil uil-share-alt"></i></a
        ></span>
        <span class="social twitter"><i class="uil uil-bookmark"></i></span>
      </div>
    </header>

    <!-- The main content of the page -->
    <div class="blogpage__grid">
      <section class="blogpage__content">
        <h1 class="blogpage__content-title">A Day in lagoon resturant</h1>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Qui quidem
          soluta architecto blanditiis ipsum id numquam nemo cupiditate saepe
          dignissimos error aperiam repellendus, aut quibusdam neque, excepturi
          ad velit dolor tempore assumenda earum eveniet consequatur illum!
          Rerum vitae officiis voluptates quos dolore quibusdam suscipit,
          aperiam sequi quo numquam unde iusto temporibus soluta nostrum veniam
          repellat, nisi, ullam similique autem veritatis facere voluptas! Non,
          eligendi nisi, porro deleniti sunt corporis laboriosam molestiae
          cumque, ipsam minima molestias eius! Voluptate distinctio
          exercitationem tempora iure maxime voluptatum amet neque nulla, rem
          earum rerum optio soluta ut itaque quisquam nisi pariatur aliquid sint
          perferendis sunt ipsam est! Eius non similique aspernatur tempora
          voluptate officiis molestiae architecto nulla? Corrupti eos inventore
          sint. Dolore officiis natus fuga molestias libero impedit sint optio
          suscipit vero omnis id laborum quas porro rem veritatis, distinctio
          neque numquam voluptates rerum eius sunt aperiam magnam
          exercitationem. Est possimus qui, eligendi autem repudiandae quaerat.
          Ullam dolorum temporibus nemo laboriosam autem excepturi aliquid,
          reprehenderit voluptas. Deserunt optio ducimus aut obcaecati nemo cum
          consectetur alias rem magnam quos tempore necessitatibus cumque neque,
          officiis tenetur aliquid facere, ipsam doloribus nisi aperiam
          repellat. Sed eaque dolor id nobis corporis. Repellendus sapiente
          labore molestiae, excepturi saepe sed modi corporis voluptatibus
          voluptatem placeat quas quis dolor incidunt eum itaque aliquid veniam
          expedita voluptatum deleniti vero ratione accusamus ab optio. Iure
          quos commodi error libero ratione eius quidem illo autem quas
          molestiae facere ex, qui sit dolore consequuntur doloribus dicta quasi
          sunt minus nemo fugit, aperiam officia. Pariatur beatae, earum magni
          inventore ad rem similique atque esse? Facere tempore repudiandae
          reprehenderit eum culpa quis molestias officiis corporis fugit dolorem
          beatae, nulla assumenda veritatis id architecto! Nesciunt excepturi,
          dolore aliquam libero assumenda sapiente voluptatum sed quod neque
          doloribus ab impedit tenetur at quia incidunt esse nemo, id rerum.
          Quisquam dolore deserunt adipisci sed, ad saepe ipsam soluta ipsum sit
          corporis tenetur, unde ducimus, nesciunt officia minus amet animi
          culpa perspiciatis atque. Ab voluptate commodi assumenda. Voluptate
          laudantium velit harum rem impedit itaque ullam, ipsam aliquid debitis
          aperiam numquam quisquam sint nesciunt ut eos natus maiores dolore
          tenetur. Ducimus delectus id hic minima facere tenetur magni quae
          beatae commodi voluptate cumque reiciendis, odio dolorem quo officiis
          possimus dolor omnis a ex corrupti totam temporibus sapiente molestias
          quia! Quidem, repellat iure. Atque omnis et libero, quaerat recusandae
          porro consequatur corrupti neque vel necessitatibus minus sint alias
          aliquam nulla sit voluptatem voluptas ducimus veniam, tempore officia
          fuga vitae voluptatum fugit provident. Lorem ipsum dolor sit, amet
          consectetur adipisicing elit. Molestias necessitatibus nisi rem
          accusamus tempore nihil ea debitis recusandae eos cum tenetur nulla
          molestiae non libero dolore blanditiis quia animi aliquam, nesciunt
          consequuntur veritatis sapiente ab facere dicta! Dolores ad minus,
          totam cupiditate quaerat maiores! Amet dignissimos nisi sint quaerat
          voluptatum vitae quas unde impedit cumque inventore maxime at
          aspernatur, rem ut cum praesentium fuga deserunt incidunt ducimus
          labore. Nihil reprehenderit accusamus quidem reiciendis tenetur ipsa,
          voluptatum tempora nesciunt! Totam illum quasi unde facilis similique
          nihil ullam natus reiciendis nobis repudiandae fugit temporibus earum
          in sequi facere eum numquam rem recusandae eaque nesciunt dicta, enim
          nemo asperiores. Alias rerum corporis, minima quod quaerat enim ipsam
          numquam molestias mollitia totam iste at minus esse. Eaque ipsam
          numquam blanditiis ipsum illum molestiae, minus vero ea, consectetur
          deleniti nihil aperiam, saepe accusantium laudantium quo. Explicabo
          est odit quod voluptate, qui velit laudantium laborum ullam dolore
          debitis libero delectus nobis nesciunt beatae quaerat, praesentium
          quasi, harum modi repellat ipsa dignissimos. Aliquid aperiam, eligendi
          repellat consequatur impedit voluptatem reiciendis voluptas optio quod
          quam, officiis nulla cum nisi voluptatum animi quas ab labore illum
          est. Sed fugiat aut officia atque ea eaque laboriosam similique rerum
          voluptate molestias! Lorem ipsum dolor sit amet consectetur
          adipisicing elit. Labore eveniet accusantium, suscipit iste similique
          quas dolor nemo neque quod modi aperiam debitis consectetur commodi
          quasi reiciendis quam cupiditate! Reiciendis atque sunt labore eaque,
          perspiciatis vel quam aut error voluptatum suscipit sapiente assumenda
          totam eius doloremque? Cum vero accusantium esse magnam quo ipsam fuga
          amet tempore odit velit rem quae, fugit ipsa mollitia, dolorem
          provident iusto aliquam qui. At impedit ex atque deleniti. Cumque iste
          exercitationem tempore reiciendis fugit reprehenderit quae laudantium,
          fugiat minus, veniam at sit, nulla nemo debitis quam fuga nam maxime.
          Eum, fuga maiores nostrum eligendi provident officiis nisi impedit
          similique, in nulla quis, vero inventore quia. Repellat eaque, vitae
          odit hic molestias voluptate. Quis natus explicabo cupiditate
          officiis. Repellat deleniti perspiciatis dolore ratione blanditiis
          maiores modi sit alias minus veritatis eum maxime esse quod, provident
          soluta, veniam necessitatibus eligendi error, ipsum eaque non
          doloribus! Expedita molestias voluptatum rerum placeat adipisci nemo
          laudantium sed voluptatem, dolor nobis itaque, neque incidunt,
          dignissimos natus eum animi id deserunt aperiam! Expedita temporibus
          quas totam facilis inventore neque quam blanditiis quia, eligendi
          libero ad provident eos et sed voluptates pariatur corporis fugiat.
          Amet iusto sapiente magnam ullam exercitationem eius dignissimos at
          labore, recusandae et quod ratione beatae rerum aut, in soluta,
          necessitatibus laboriosam quidem quaerat sed! Consectetur dicta
          pariatur similique voluptates vel iste obcaecati eaque explicabo,
          velit officiis voluptas nesciunt magnam incidunt autem enim dolorum
          corporis ipsa aliquid laboriosam consequatur sit architecto officia.
          Error reiciendis temporibus veritatis dolor velit. Eaque, at. Quo
          voluptatum omnis eaque dignissimos fugiat totam inventore corporis,
          exercitationem aut quis dolor possimus minima. Incidunt quasi impedit
          ab molestiae voluptas optio non adipisci totam, in assumenda? Hic
          earum commodi modi, dolore rerum doloribus blanditiis saepe omnis ab,
          molestias maiores repellat? Quibusdam, recusandae explicabo quos
          dolore numquam iste maxime dignissimos ex doloremque repellendus
          officiis autem cum ipsam enim mollitia placeat aliquid doloribus.
          Obcaecati corrupti eum atque laborum corporis doloribus adipisci quae,
          illum, accusamus ad natus tenetur assumenda. Dolorem quis aliquid
          voluptatum debitis, ipsam quod exercitationem commodi rerum explicabo,
          mollitia reprehenderit distinctio repudiandae corporis voluptates
          asperiores nesciunt, accusantium aperiam. Beatae laudantium autem
          consequuntur maxime, necessitatibus sapiente quos id sint officiis
          porro iusto provident praesentium illum facilis consectetur molestiae
          architecto excepturi aliquid. Maiores, nesciunt sint! Illum in alias
          iste, officia asperiores laborum consequatur beatae voluptates velit
          porro quod aspernatur architecto laudantium delectus temporibus saepe
          qui, itaque nulla, adipisci deleniti hic. Vel, id magni!
        </p>
      </section>
      <section class="blogpage__comment">
        <div class="blogpage__comment-form">
          <form>
            <h2>Comments <span class="comment-count">(10)</span></h2>
            <div class="input-box">
              <textarea
                id=""
                cols="30"
                rows="10"
                placeholder="what are your thought?"
                required
                ref="textarea"
                @keyup="removeDisabled"></textarea>
              <app-button
                type="submit"
                class="comment-btn"
                ref="commentBtn"
                disabled
                >Comment</app-button
              >
            </div>
          </form>
        </div>

        <div class="blogpage__comment-list" v-if="comments.length > 0">
          <h2>Latest comment</h2>
          <hr />
          <div
            class="blogpage__comment-card"
            v-for="card in comments"
            :key="card">
            <div class="head">
              <h4>John doe</h4>
              <h5>6 months ago</h5>
            </div>
            <div class="content">
              <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
                harum odio rerum consequuntur eligendi quae eveniet porro
                laborum. Non, magnam!
              </p>
            </div>
          </div>
        </div>

        <div class="blogpage__comment-empty" v-else>No comment</div>
      </section>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";
import AppButton from "../components/form/AppButton.vue";

const comments = ref([1, 2, 3]);

const textarea = ref(null);
const commentBtn = ref(null);

const removeDisabled = () => {
  if (document.querySelector("textarea").value.length > 0) {
    document.querySelector(".comment-btn").removeAttribute("disabled");
  } else {
    document.querySelector(".comment-btn").setAttribute("disabled", "true");
  }
};

onMounted(() => {
  // console.log(textarea.value, commentBtn);
});
</script>

<style lang="scss" scoped>
.blogpage {
  position: relative;
  width: 90%;
  margin: 40px auto;

  .blogpage__header {
    position: relative;
    display: flex;

    @include desktop {
      width: 60%;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 30px;
    }
    @include mobile {
      width: 100%;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 30px;
    }

    &-image {
      display: flex;
      align-items: center;

      img {
        display: inline-block;
        border-radius: 50%;

        @include desktop {
          width: 60px;
          height: 60px;
          margin-right: 20px;
        }
        @include tablet {
          width: 60px;
          height: 60px;
          margin-right: 20px;
        }
        @include mobile {
          width: 50px;
          height: 50px;
          margin-right: 20px;
        }
      }

      .admin-name {
        color: var(--color-text-heading);
        font-weight: 500;
        font-size: 1.05rem;
        margin-bottom: 3px;
      }
      .upload-date {
        color: var(--color-text-subtitle);
        font-weight: 400;
        font-size: 0.85rem;
      }
    }

    &-social {
      position: relative;

      span {
        margin-left: 20px;

        i {
          font-size: 1.2rem;
          color: var(--color-text-subtitle);

          @include mobile {
            font-size: 0.98rem;
          }
        }
      }
    }
  }

  .blogpage__grid {
    width: 100%;
    display: grid;
    gap: 70px;
    align-items: flex-start;

    @include desktop {
      grid-template-columns: minmax(0, 70%) minmax(0, 30%);
    }
  }
  .blogpage__content {
    width: 100%;
    // border: 1px solid red;

    @include mobile {
      width: 100%;
    }
    &-title {
      font-size: 2rem;
      color: var(--color-text-heading);
      margin-bottom: 30px;
      font-weight: 900;
      font-family: $dm-serif;
      letter-spacing: 1px;

      @include mobile {
        font-size: 1.8rem;
      }
    }
    p {
      color: var(--color-text-subtitle);
      line-height: 1.8;
    }
  }

  .blogpage__comment {
    position: sticky;
    top: 20px;

    form {
      position: relative;
      width: 100%;

      h2 {
        font-weight: 500;
        margin-bottom: 10px;
        font-size: 1.5rem;
        color: var(--color-text-heading);

        .comment-count {
          font-size: 1.2rem;
        }
      }

      .input-box {
        position: relative;
        width: 100%;

        textarea {
          width: 100%;
          border: 1px solid var(--color-border);
          height: 200px;
          resize: none;
          border-radius: 5px;
          padding: 15px;
          color: var(--color-text-subtitle);
          background-color: transparent;
          outline: none;
          box-shadow: 0 0 13px var(--color-border);

          &:focus-visible {
            border: 1px solid var(--color-secondary);
          }
        }

        .comment-btn {
          position: absolute;
          width: max-content;
          bottom: 20px;
          right: 10px;
          background-color: var(--color-secondary);
          color: $color-white;
          padding: 7px 15px;
          border-radius: 5px;
          cursor: pointer;
          font-size: 0.9rem;

          &:disabled {
            background-color: lighten($color: $color-secondary, $amount: 20%);
            cursor: not-allowed;
          }
        }
      }
    }

    hr {
      border: 1px solid var(--color-border);
      height: 1px;
      margin-top: 10px;
      margin-bottom: 25px;
    }
  }

  .blogpage__comment-list {
    margin-top: 30px;

    h2 {
      color: var(--color-text-heading);
      font-size: 1.2rem;
    }

    .blogpage__comment-card {
      padding: 30px 0;
      border-bottom: 1px solid var(--color-border);

      &:last-child {
        border-bottom: none;
      }

      .head {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 10px;

        h4 {
          color: var(--color-text-heading);
          font-weight: 400;
        }
        h5 {
          font-weight: 400;
          color: var(--color-text-subtitle);
        }
      }
      .content {
        p {
          color: var(--color-text-subtitle);
          font-size: 0.9rem;
        }
      }
    }
  }

  .blogpage__comment-empty {
    margin: 30px 0;
    width: 100%;
    color: var(--color-text-heading);
    text-align: center;
    font-size: 1.5rem;
  }
}
</style>
